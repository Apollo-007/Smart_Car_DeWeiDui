#ifndef __MUSIC_NOTE_H__
#define __MUSIC_NOTE_H__


#include "main.h"

//播放新的音乐
#define MUSIC_BEGIN         1
//当前的音乐正在持续中
#define MUSIC_CONTINUE      2
//停止播放音乐
#define MUSIC_FINISH        3

//定义驱动蜂鸣器的定时器时钟频率
#define BEEP_TIM_CLOCK  8000000U

//背景音乐列表
enum MusicList
{
  CREATE_MUSIC = 1,
  MISS_MUSIC,
  TWO_TIGERS_MUSIC,
  PEPPA_PIG_MUSIC,
  SUPER_MARIO_MUSIC,
  DOU_DI_ZHU_MUSIC,
  POLICE_MUSIC,
  AMBULANCE_MUSIC
};

typedef struct
{
  uint16_t tone; //音符
  uint16_t time; //时间 为1表示10ms
}Note_TypeDef;

void enable_music_player(void);
void play_a_note(uint16_t tone,uint8_t volumeLevel);
void play_music_block(uint8_t volume_level);
void music_callback(void);
void music_player(uint8_t volume_level , enum MusicList num);

//定义低音音名C
#define CL1 262
#define CL2 294
#define CL3 330
#define CL4 349
#define CL5 392
#define CL6 440
#define CL7 494

//定义中音音名C
#define CM1 523
#define CM2 587
#define CM3 659
#define CM4 698
#define CM5 784
#define CM6 880
#define CM7 988

//定义高音音名C
#define CH1 1047
#define CH2 1175
#define CH3 1319
#define CH4 1397
#define CH5 1568
#define CH6 1760
#define CH7 1976

//定义低音音名D
#define DL1 294
#define DL2 330
#define DL3 370
#define DL4 392
#define DL5 440
#define DL6 494
#define DL7 554

//定义中音音名D
#define DM1 587
#define DM2 659
#define DM3 740
#define DM4 784
#define DM5 880
#define DM6 988
#define DM7 1109

//定义高音音名D
#define DH1 1175
#define DH2 1319
#define DH3 1480
#define DH4 1568
#define DH5 1760
#define DH6 1976
#define DH7 2217

//定义低音音名E
#define EL1 330
#define EL2 370
#define EL3 415
#define EL4 440
#define EL5 494
#define EL6 554
#define EL65 587
#define EL7 622

//定义中音音名E
#define EM1 659
#define EM2 740
#define EM3 831
#define EM4 880
#define EM5 988
#define EM6 1109
#define EM7 1245

//定义高音音名E
#define EH1 1319
#define EH2 1480
#define EH3 1661
#define EH4 1760
#define EH5 1976

//定义低音音名F (单位是Hz)
#define FL1 349
#define FL2 392
#define FL3 440
#define FL4 466
#define FL5 523
#define FL6 587
#define FL7 659

//定义中音音名F
#define FM1 698
#define FM2 784
#define FM3 880
#define FM4 932
#define FM5 1047
#define FM6 1175
#define FM7 1319

//定义高音音名F
#define FH1 1397
#define FH2 1568
#define FH3 1760
#define FH4 1865


//未击中乐谱
const Note_TypeDef MissMusic[]=
{
	{0,4},//第一个元素的时间值为数组长度 音符数量比数组长度小1
	{CM3,15},{CM2,15},{CM1,15},{0,30},
};

//生成新地鼠乐谱
const Note_TypeDef CreatMusic[]=
{
	{0,4},//第一个元素的时间值为数组长度 音符数量比数组长度小1
	{CH1,15},{CH2,15},{CH3,15},{0,30},
};

//双音转换警笛乐谱
const Note_TypeDef PoliceMusic[]=
{
	{0,40},//第一个元素的时间值为数组长度 音符数量比数组长度小1
	{800,25},{1000,25},{800,25},{1000,25},{800,25},{1000,25},{800,25},{1000,25},{800,25},{1000,25},
	{800,25},{1000,25},{800,25},{1000,25},{800,25},{1000,25},{800,25},{1000,25},{800,25},{1000,25},
	{800,25},{1000,25},{800,25},{1000,25},{800,25},{1000,25},{800,25},{1000,25},{800,25},{1000,25},
	{800,25},{1000,25},{800,25},{1000,25},{800,25},{1000,25},{800,25},{1000,25},{800,25},{1000,25},
};

//双音转换救护车乐谱
const Note_TypeDef AmbulanceMusic[]=
{
	{0,40},//第一个元素的时间值为数组长度 音符数量比数组长度小1
	{1000,100},{800,100},{1000,100},{800,100},{1000,100},{800,100},{1000,100},{800,100},{1000,100},{800,100},
	{1000,100},{800,100},{1000,100},{800,100},{1000,100},{800,100},{1000,100},{800,100},{1000,100},{800,100},
	{1000,100},{800,100},{1000,100},{800,100},{1000,100},{800,100},{1000,100},{800,100},{1000,100},{800,100},
	{1000,100},{800,100},{1000,100},{800,100},{1000,100},{800,100},{1000,100},{800,100},{1000,100},{800,100},
};

//两只老虎乐谱
const Note_TypeDef TwoTigersMusic[]=
{
	{0,37},//第一个元素的时间值为数组长度 音符数量比数组长度小1
	{CM1,40},{CM2,40},{CM3,40},{CM1,40},
	{CM1,40},{CM2,40},{CM3,40},{CM1,40},
	{CM3,40},{CM4,40},{CM5,40},{0,40},
	{CM3,40},{CM4,40},{CM5,40},{0,40},
	{CM5,20},{CM6,20},{CM5,20},{CM4,20},{CM3,40},{CM1,40},
	{CM5,20},{CM6,20},{CM5,20},{CM4,20},{CM3,40},{CM1,40},
	{CM1,40},{CL5,40},{CM1,40},{0,40},
	{CM1,40},{CL5,40},{CM1,40},{0,40},
};

//小猪佩奇乐谱
const Note_TypeDef PeppaPigMusic[]=
{
  {0,13},//第一个元素的时间值为数组长度 音符数量比数组长度小1
	{CH5,25},{CH3,13},{CH1,13},{CH2,25},{CM5,25},
	{CM5,13},{CM7,13},{CH2,13},{CH4,13},{CH3,25},{CH1,25},{0,25},
};

//超级玛丽乐谱
const Note_TypeDef SuperMarioMusic[]=
{
	{0,396},//第一个元素的时间值为数组长度 音符数量比数组长度小1
  {CH3,15}, {CH3,30}, {CH3,15}, {0,15}, {CH1,15}, {CH3,30}, {CH5,30}, {0,30}, {CM5,30}, {0,30},  //10
  {CH1,30}, {0,15}, {CM5,15}, {0,30}, {CM3,30}, {0,15}, {CM6,30}, {CM7,15},{0,15},{CM7-27,15},{CM6,30},  //11
  {CM5,30}, {CH3,30}, {CH5,30}, {CH6,30}, {CH4,15}, {CH5,15}, {0,15}, {CH3,30}, {CH1,15}, {CH2,15}, {CM7,30}, {0,15}, //12

  {CH1,30}, {0,15}, {CM5,15}, {0,30}, {CM3,30}, {0,15}, {CM6,30}, {CM7,15},{0,15},{CM7-27,15},{CM6,30},  //11
  {CM5,30}, {CH3,30}, {CH5,30}, {CH6,30}, {CH4,15}, {CH5,15}, {0,15}, {CH3,30}, {CH1,15}, {CH2,15}, {CM7,30}, {0,15}, //12
  {0,30}, {CH5,15},  {CH4+85,15}, {CH4,15}, {CH3-67,30}, {CH3,15}, {0,15}, {CM5+48,15}, {CM6,15}, {CH1,15}, {0,15}, {CM6,15},{CH1,15},{CH2,15}, //14

  {0,30}, {CH5,15},  {CH4+85,15}, {CH4,15}, {CH3-67,30}, {CH3,15}, {0,15}, {CM1*4,30}, {CM1*4,15}, {CM1*4,30}, {0,30}, //11
  {0,30}, {CH5,15},  {CH4+85,15}, {CH4,15}, {CH3-67,30}, {CH3,15}, {0,15}, {CM5+48,15}, {CM6,15}, {CH1,15}, {0,15}, {CM6,15},{CH1,15},{CH2,15}, //14
  {0,30}, {CH5,30},  {0,15}, {CH4,30},  {0,15}, {CH3,30},  {0,30}, {0,60},    //8

  {0,30}, {CH5,15},  {CH4+85,15}, {CH4,15}, {CH3-67,30}, {CH3,15}, {0,15}, {CM5+48,15}, {CM6,15}, {CH1,15}, {0,15}, {CM6,15},{CH1,15},{CH2,15}, //14
  {0,30}, {CH5,15},  {CH4+85,15}, {CH4,15}, {CH3-67,30}, {CH3,15}, {0,15}, {CM1*4,30}, {CM1*4,15}, {CM1*4,30}, {0,30}, //11
  {0,30}, {CH5,15},  {CH4+85,15}, {CH4,15}, {CH3-67,30}, {CH3,15}, {0,15}, {CM5+48,15}, {CM6,15}, {CH1,15}, {0,15}, {CM6,15},{CH1,15},{CH2,15}, //14

  {0,30}, {CH5,30},  {0,15}, {CH4,30},  {0,15}, {CH3,30},  {0,30}, {0,60},    //8
  {CH1,15}, {CH1,30},  {CH1,15}, {0,15}, {CH1,15}, {CH2,30},  {CH3,15}, {CH1,30},{CM6,15},{CM5,30},{0,30}, //11
  {CH1,15}, {CH1,30},  {CH1,15}, {0,15}, {CH1,15}, {CH2,15}, {CH3,15},{0,120},  //8

  {CH1,15}, {CH1,30},  {CH1,15}, {0,15}, {CH1,15}, {CH2,30},  {CH3,15}, {CH1,30},{CM6,15},{CM5,30},{0,30}, //11
  {CH3,15}, {CH3,30}, {CH3,15}, {0,15}, {CH1,15}, {CH3,30}, {CH5,30}, {0,30}, {CM5,30}, {0,30},  //10
  {CH1,30}, {0,15}, {CM5,15}, {0,30}, {CM3,30}, {0,15}, {CM6,30}, {CM7,15},{0,15},{CM7-27,15},{CM6,30},  //11

  {CM5,30}, {CH3,30}, {CH5,30}, {CH6,30}, {CH4,15}, {CH5,15}, {0,15}, {CH3,30}, {CH1,15}, {CH2,15}, {CM7,30}, {0,15}, //12
  {CH1,30}, {0,15}, {CM5,15}, {0,30}, {CM3,30}, {0,15}, {CM6,30}, {CM7,15},{0,15},{CM7-27,15},{CM6,30},  //11
  {CM5,30}, {CH3,30}, {CH5,30}, {CH6,30}, {CH4,15}, {CH5,15}, {0,15}, {CH3,30}, {CH1,15}, {CH2,15}, {CM7,30}, {0,15}, //12


  {CH3,15}, {CH1,30}, {CM5,15},{0,30},{CM5+48,30},{CM6,15},{CH4,30},{CH4,15},{CM6,30},{0,30},  //10
  {CM7,30},{CH6,30},{CH6,30},{CH6,30},{CH5,30},{CH4,30},{CH3,15},{CH1,30},{CM6,15},{CM5,30},{0,30},  //10
  {CH3,15}, {CH1,30}, {CM5,15},{0,30},{CM5+48,30},{CM6,15},{CH4,30},{CH4,15},{CM6,30},{0,30},  //10

  {CM7,15},{CH4,30},{CH4,15},{CH4,30},{CH3,30},{CH2,30},{CH1,30},{0,30},{0,60},  //9
  {CH3,15}, {CH1,30}, {CM5,15},{0,30},{CM5+48,30},{CM6,15},{CH4,30},{CH4,15},{CM6,30},{0,30},  //10
  {CM7,30},{CH6,30},{CH6,30},{CH6,30},{CH5,30},{CH4,30},{CH3,15},{CH1,30},{CM6,15},{CM5,30},{0,30},  //10

  {CH3,15}, {CH1,30}, {CM5,15},{0,30},{CM5+48,30},{CM6,15},{CH4,30},{CH4,15},{CM6,30},{0,30},  //10
  {CM7,15},{CH4,30},{CH4,15},{CH4,30},{CH3,30},{CH2,30},{CH1,30},{0,30},{0,60},  //9
  {CH1,15}, {CH1,30},  {CH1,15}, {0,15}, {CH1,15}, {CH2,30},  {CH3,15}, {CH1,30},{CM6,15},{CM5,30},{0,30}, //11

  {CH1,15}, {CH1,30},  {CH1,15}, {0,15}, {CH1,15}, {CH2,15}, {CH3,15},{0,120},  //8
  {CH1,15}, {CH1,30},  {CH1,15}, {0,15}, {CH1,15}, {CH2,30},  {CH3,15}, {CH1,30},{CM6,15},{CM5,30},{0,30}, //11
  {CH3,15}, {CH3,30}, {CH3,15}, {0,15}, {CH1,15}, {CH3,30}, {CH5,30}, {0,30}, {CM5,30}, {0,30},  //10

  {CH3,15}, {CH1,30}, {CM5,15},{0,30},{CM5+48,30},{CM6,15},{CH4,30},{CH4,15},{CM6,30},{0,30},  //10
  {CM7,30},{CH6,30},{CH6,30},{CH6,30},{CH5,30},{CH4,30},{CH3,15},{CH1,30},{CM6,15},{CM5,30},{0,30},  //10
  {CH3,15}, {CH1,30}, {CM5,15},{0,30},{CM5+48,30},{CM6,15},{CH4,30},{CH4,15},{CM6,30},{0,30},  //10

  {CM7,15},{CH4,30},{CH4,15},{CH4,30},{CH3,30},{CH2,30},{CH1,30},{0,30},{0,60},  //9

  {0,30},
};
//欢乐斗地主乐谱
const Note_TypeDef DouDiZhuMusic[]=
{
	{0,82},//第一个元素的时间值为数组长度 音符数量比数组长度小1
  {CM3,60},{CM3,30},{CM2,30},{CM1,60},{CM1,30},{CL6,30},  //6
  {CM2,30},{CM3,30},{CM2,30},{CM3,30},{CL5,60},{CL5,60},   //6
  {CL6,60}, {CL6,30}, {CL5,30}, {CL6,60}, {CM1,60},            //5
  {CM5,30},{CM6,30},{CM3,30},{CM5,30},{CM2,60},{CM2,60},   //6

  {CM3,60},{CM3,30},{CM2,30},{CM3,60},{CM5,60},     //5
  {CM6,30},{CM6,30},{CM6,30},{CH1,30},{CM6,60},{CM5,30},{CM3,30},   //7
  {CM2,60},{CM2,30},{CM3,30},{CM5,60},{CL5,60},     //5
  {CM2,30},{CM3,30},{CM2,30},{CM3,30},{CM1,60},{CM1,60},   //6

  {CM3,60},{CM3,30},{CM2,30},{CM3,60},{CM5,60},     //5
  {CM6,30},{CH1,30},{CM6,30},{CM5,30},{CM6,60},{CM5,30},{CM3,30},   //7
  {CM2,60},{CM2,30},{CM3,30},{CM5,60},{CL5,60},     //5
  {CM2,30},{CM3,30},{CM2,30},{CM3,30},{CM1,60},{CM1,60},   //6

  {CM2,30},{CM2,30},{CM2,30},{CM3,30},{CM5,60},{CM5,30},{CM6,30},   //7
  {CH1,60},{CM6,60},  {CH1,60},  {CH1,60},              //4
  {0,60},
};

#ifdef __cplusplus
}
#endif

#endif
